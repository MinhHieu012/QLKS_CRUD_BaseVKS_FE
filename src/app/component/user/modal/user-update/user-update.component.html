<i class="pi pi-user-edit" (click)="showDialog()"></i>

<form [formGroup]="userUpdateForm" (ngSubmit)="handleUpdateUser()">
<div class="add_input">
  <p-dialog
    header="Cập nhật thông tin người dùng"
    [modal]="true"
    [(visible)]="display"
    [style]="{ width: '33rem' }"
  >
    <div class="add_input_body">
      <label for="username" class="font-semibold w-6rem">
        Username<span class="text-red"> (*)</span>
      </label>
      <input
        pInputText
        id="username"
        name="username"
        class="flex-auto"
        autocomplete="off"
        placeholder="Nhập username"
        [(ngModel)]="dataUserSendToUpdate.username"
        formControlName="username"
      />
    </div>
    <div *ngIf="userUpdateForm.get('username')?.invalid && userUpdateForm.get('username')?.touched" class="field-error">
      <small *ngIf="userUpdateForm.get('username')?.errors?.['required']">Tên là bắt buộc</small>
    </div>
    <div *ngIf="fieldErrors.username" class="field-error">
      {{ fieldErrors.username }}
    </div>
    <div class="add_input_body">
      <label for="phone" class="font-semibold w-6rem">
        Số điện thoại<span class="text-red"> (*)</span>
      </label>
      <input
        pInputText
        id="phone"
        name="phone"
        class="flex-auto"
        autocomplete="off"
        type="text"
        placeholder="Nhập số điện thoại"
        formControlName="phone"
        [(ngModel)]="dataUserSendToUpdate.phone"
      />
    </div>
    <div *ngIf="userUpdateForm.get('phone')?.invalid && userUpdateForm.get('phone')?.touched" class="field-error">
      <small *ngIf="userUpdateForm.get('phone')?.errors?.['required']">Số điện thoại là bắt buộc</small>
    </div>
    <div *ngIf="fieldErrors.phone" class="field-error">
      {{ fieldErrors.phone }}
    </div>
    <div class="add_input_body">
      <label for="email" class="font-semibold w-6rem">
        Email<span class="text-red"> (*)</span>
      </label>
      <input
        pInputText
        id="email"
        name="email"
        class="flex-auto"
        autocomplete="off"
        type="email"
        placeholder="Nhập email"
        formControlName="email"
        [(ngModel)]="dataUserSendToUpdate.email"
      />
    </div>
    <div *ngIf="userUpdateForm.get('email')?.invalid && userUpdateForm.get('email')?.touched" class="field-error">
      <small *ngIf="userUpdateForm.get('email')?.errors?.['required']">Email là bắt buộc</small>
    </div>
    <div *ngIf="fieldErrors.email" class="field-error">
      {{ fieldErrors.email }}
    </div>
    <div class="add_input_body">
      <label for="dateOfBirth" class="font-semibold w-6rem">
        Nhập ngày sinh<span class="text-red"> (*)</span>
      </label>
      <input
        pInputText
        id="dateOfBirth"
        name="dateOfBirth"
        class="flex-auto"
        autocomplete="off"
        type="date"
        placeholder="Nhập ngày sinh"
        formControlName="dateOfBirth"
        [(ngModel)]="dataUserSendToUpdate.dateOfBirth"
      />
    </div>
    <div *ngIf="userUpdateForm.get('dateOfBirth')?.invalid && userUpdateForm.get('dateOfBirth')?.touched" class="field-error">
      <small *ngIf="userUpdateForm.get('dateOfBirth')?.errors?.['required']">Ngày sinh là bắt buộc</small>
    </div>
    <div class="add_input_body">
      <label for="identificationNumber" class="font-semibold w-6rem">
        Nhập số CMND/CCCD<span class="text-red"> (*)</span>
      </label>
      <input
        pInputText
        id="identificationNumber"
        name="identificationNumber"
        class="flex-auto"
        autocomplete="off"
        type="text"
        placeholder="Nhập số CMND/CCCD"
        formControlName="identificationNumber"
        [(ngModel)]="dataUserSendToUpdate.identificationNumber"
      />
    </div>
    <div *ngIf="userUpdateForm.get('identificationNumber')?.invalid && userUpdateForm.get('identificationNumber')?.touched" class="field-error">
      <small *ngIf="userUpdateForm.get('identificationNumber')?.errors?.['required']">Số CMND/CCCD là bắt buộc</small>
    </div>
    <div *ngIf="fieldErrors.identificationNumber" class="field-error">
      {{ fieldErrors.identificationNumber }}
    </div>
    <p-button class="btn_confirm_add" [disabled]="isSubmitDisabled" (click)="handleUpdateUser()">
      <i class="pi pi-user-edit icon-update"></i>Cập nhật
    </p-button>
  </p-dialog>
</div>
</form>